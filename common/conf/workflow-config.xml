<?xml version="1.0" encoding="utf-8" ?>
<workflows xmlns="http://WorkflowEngine.org/WorkflowEngine-schema.xsd">
	<workflow mapID="MapSpot" keep="false">
		<nodes>
			<node nodeID="Import"
				classType="phalaenopsis.satellitegraph.workflownodes.ImportNode"
				nodeType="start" />
			<node nodeID="DoubtIllegal"
				classType="phalaenopsis.satellitegraph.workflownodes.DoubtIllegalNode" />
			<node nodeID="DoubtNotNew"
				classType="phalaenopsis.satellitegraph.workflownodes.DoubtNotNewNode" />
			<node nodeID="LegalSpot"
				classType="phalaenopsis.satellitegraph.workflownodes.LegalSpotNode"
				nodeType="end" />
			<node nodeID="ProofingLegal"
				classType="phalaenopsis.satellitegraph.workflownodes.ProofingLegalNode" />
			<node nodeID="ProofLegal"
				classType="phalaenopsis.satellitegraph.workflownodes.ProofLegalNode" />
			<node nodeID="ProofLegalCity"
				classType="phalaenopsis.satellitegraph.workflownodes.ProofNotNewCityNode" />
			<node nodeID="ProofLegalProvince"
				classType="phalaenopsis.satellitegraph.workflownodes.ProofLegalProvinceNode" />
			<node nodeID="ReallyIllegal"
				classType="phalaenopsis.satellitegraph.workflownodes.ReallyIllegalNode" />
			<node nodeID="ProofingNotNew"
				classType="phalaenopsis.satellitegraph.workflownodes.ProofingNotNewNode" />
			<node nodeID="ProofNotNew"
				classType="phalaenopsis.satellitegraph.workflownodes.ProofNotNewNode" />
			<node nodeID="ProofNotNewCity"
				classType="phalaenopsis.satellitegraph.workflownodes.ProofNotNewCityNode" />
			<node nodeID="ProofNotNewProvince"
				classType="phalaenopsis.satellitegraph.workflownodes.ProofNotNewProvinceNode" />
			<node nodeID="NotNewSpot"
				classType="phalaenopsis.satellitegraph.workflownodes.NotNewSpotNode"
				nodeType="end" />
			<node nodeID="ProofingMaybeNew"
				classType="phalaenopsis.satellitegraph.workflownodes.ProofingMaybeNewNode" />
			<node nodeID="ProofMaybeNew"
				classType="phalaenopsis.satellitegraph.workflownodes.ProofMaybeNewNode" />
			<node nodeID="ProofMaybeNewCity"
				classType="phalaenopsis.satellitegraph.workflownodes.ProofMaybeNewCityNode" />
			<node nodeID="ProofMaybeNewProvince"
				classType="phalaenopsis.satellitegraph.workflownodes.ProofMaybeNewProvinceNode" />
		</nodes>
		<graphs>
			<graph nodeID="Import"
				branch-selector="phalaenopsis.satellitegraph.workflowbranches.ImportSelector">
				<branch name="SetDoubtIllegal">
					<next nodeID="DoubtIllegal" />
				</branch>
				<branch name="SetLegalSpot">
					<next nodeID="LegalSpot" />
				</branch>
				<branch name="SetDoubtNotNew">
					<next nodeID="DoubtNotNew" />
				</branch>
			</graph>
			<graph nodeID="DoubtIllegal"
				branch-selector="phalaenopsis.satellitegraph.workflowbranches.DoubtIllegalSelector">
				<branch name="ProofForLegal">
					<next nodeID="ProofLegal" />
				</branch>
				<branch name="ProofForLegal-Oil">
					<next nodeID="ProofingLegal" />
					<next nodeID="ProofLegal" />
				</branch>
				<branch name="MakeSureIllegal">
					<next nodeID="ReallyIllegal" />
				</branch>
				<branch name="ProofForNotNew">
					<next nodeID="ProofingNotNew" />
				</branch>
			</graph>
			<graph nodeID="ProofLegal" next="ProofLegalCity"></graph>
			<graph nodeID="ProofLegalCity"
				branch-selector="phalaenopsis.satellitegraph.workflowbranches.ProofCitySelector">
				<branch name="Report">
					<next nodeID="ProofLegalProvince" />
				</branch>
				<branch name="Back-Pass">
					<next nodeID="ProofLegal" />
				</branch>
				<branch name="Back-NoPass">
					<next nodeID="DoubtIllegal" />
				</branch>
			</graph>
			<graph nodeID="ProofLegalProvince"
				branch-selector="phalaenopsis.satellitegraph.workflowbranches.ProofLegalProvinceSelector">
				<branch name="Pass">
					<next nodeID="LegalSpot" />
				</branch>
				<branch name="NoPass">
					<next nodeID="ReallyIllegal" />
				</branch>
			</graph>
			<graph nodeID="ProofingNotNew" next="ProofNotNew"></graph>
			<graph nodeID="ProofNotNew" next="ProofNotNewCity"></graph>
			<graph nodeID="ProofNotNewCity"
				branch-selector="phalaenopsis.satellitegraph.workflowbranches.ProofCitySelector">
				<branch name="Report">
					<next nodeID="ProofNotNewProvince" />
				</branch>
				<branch name="Back-Pass">
					<next nodeID="ProofNotNew" />
				</branch>
				<branch name="Back-NoPass">
					<next nodeID="DoubtIllegal" />
				</branch>
			</graph>
			<graph nodeID="ProofNotNewProvince"
				branch-selector="phalaenopsis.satellitegraph.workflowbranches.ProofNotNewProvinceSelector">
				<branch name="Pass">
					<next nodeID="NotNewSpot" />
				</branch>
				<branch name="NoPass">
					<next nodeID="ReallyIllegal" />
				</branch>
			</graph>
			<graph nodeID="DoubtNotNew"
				branch-selector="phalaenopsis.satellitegraph.workflowbranches.DoubtNotNewSelector">
				<branch name="ProofForNew">
					<next nodeID="ProofingMaybeNew" />
				</branch>
				<branch name="MakeSureNotNew">
					<next nodeID="NotNewSpot" />
				</branch>
			</graph>
			<graph nodeID="ProofingMaybeNew" next="ProofMaybeNew"></graph>
			<graph nodeID="ProofMaybeNew" next="ProofMaybeNewCity"></graph>
			<graph nodeID="ProofMaybeNewCity"
				branch-selector="phalaenopsis.satellitegraph.workflowbranches.ProofCitySelector">
				<branch name="Report">
					<next nodeID="ProofMaybeNewProvince" />
				</branch>
				<branch name="Back-Pass">
					<next nodeID="ProofMaybeNew" />
				</branch>
				<branch name="Back-NoPass">
					<next nodeID="DoubtNotNew" />
				</branch>
			</graph>
			<graph nodeID="ProofMaybeNewProvince"
				branch-selector="phalaenopsis.satellitegraph.workflowbranches.ProofMaybeNewProvinceSelector">
				<branch name="Pass">
					<next nodeID="LegalSpot" />
				</branch>
				<branch name="NoPass">
					<next nodeID="ReallyIllegal" />
				</branch>
				<branch name="NoPass-NotNew">
					<next nodeID="NotNewSpot" />
				</branch>
			</graph>
		</graphs>
	</workflow>

	<!-- 违法线索 -->
	<workflow mapID="IllegalClue" keep="false">
		<nodes>
			<node nodeID="RegistNode" classType="phalaenopsis.illegalclue.workflownodes.RegistNode"
				nodeType="start" />   <!-- 登记和初判 -->
			<node nodeID="JudgeAuditNode" classType="phalaenopsis.illegalclue.workflownodes.AuditNode" /> <!-- 初判意见审核 -->
			<node nodeID="EndNode" classType="phalaenopsis.illegalclue.workflownodes.EndNode" /> <!-- 办结 -->
			
			<node nodeID="UnHandleNode"
				classType="phalaenopsis.illegalclue.workflownodes.FinishHandleNode"
				nodeType="end" />     <!-- 不在受理范围 -->
			<node nodeID="SubHandleNode"
				classType="phalaenopsis.illegalclue.workflownodes.FinishHandleNode" 
				nodeType="end" />  <!-- 在受理范围，转交办 -->
				 
			<node nodeID="EndAuditNode"
				classType="phalaenopsis.illegalclue.workflownodes.EndAuditNode" />  <!-- 办结审核 -->
				
			<node nodeID="FinishNode"
				classType="phalaenopsis.illegalclue.workflownodes.FinishHandleNode"
				nodeType="end" />  
		</nodes>

		<graphs>
			<graph nodeID="RegistNode" next="JudgeAuditNode" />   <!-- 登记转初判审核 -->
			<graph nodeID="JudgeAuditNode"
				branch-selector="phalaenopsis.illegalclue.workflowbranches.AuditSelector">  <!-- 初判审核到不属于受理范围、转交办下级、办结 -->
				<branch name="unHandle">
					<next nodeID="UnHandleNode" />  <!-- 不属于受理范围 -->
				</branch>
				<branch name="subHandle">
					<next nodeID="SubHandleNode" />  <!-- 转交办下级 -->
				</branch>
				<branch name="end">     <!-- 本级办理到办结 -->
					<next nodeID="EndNode" />
				</branch>
				<branch name="back">   <!-- 不同意回退 -->
					<next nodeID="RegistNode" />
				</branch>
			</graph>
			
			<graph nodeID="EndNode" next="EndAuditNode" /> <!-- 办结到办结审核 -->

			<graph nodeID="EndAuditNode"
				branch-selector="phalaenopsis.illegalclue.workflowbranches.EndAuditSelector">  <!-- 办结审核到结案和回退 -->
				<branch name="end">   <!--同意案件结束 -->
					<next nodeID="FinishNode" />
				</branch>
				<branch name="back"> <!-- 不同意回退 -->
					<next nodeID="EndNode" />
				</branch>
			</graph>
		</graphs>
	</workflow>

	<!-- 违法案件 -->
	<workflow mapID="LawCase" keep="false">
		<nodes>
			<node nodeID="Clue" classType="phalaenopsis.lawcase.workflownodes.Clue"
				nodeType="start" />
			<node nodeID="Build" classType="phalaenopsis.lawcase.workflownodes.Build" />
			<node nodeID="Survey" classType="phalaenopsis.lawcase.workflownodes.Survey" />
			<node nodeID="Trial" classType="phalaenopsis.lawcase.workflownodes.Trial" />
			<node nodeID="Deal" classType="phalaenopsis.lawcase.workflownodes.Deal" />
			<node nodeID="Punish" classType="phalaenopsis.lawcase.workflownodes.Punish" />
			<node nodeID="Execution" classType="phalaenopsis.lawcase.workflownodes.Execution" />
			<node nodeID="EndCase" classType="phalaenopsis.lawcase.workflownodes.EndCase"
				nodeType="end" />
			<finished-node nodeID="Over" />
		</nodes>
		<graphs>
			<graph nodeID="Clue" next="Build" />
			<graph nodeID="Build" next="Survey" />
			<graph nodeID="Survey" next="Trial" />
			<graph nodeID="Trial" next="Deal" />
			<graph nodeID="Deal" next="Punish" />
			<graph nodeID="Punish" next="Execution" />
			<graph nodeID="Execution" next="EndCase" />
		</graphs>
	</workflow>

</workflows>