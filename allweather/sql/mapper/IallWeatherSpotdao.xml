<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="phalaenopsis.allWeather.dao.IallWeatherSpotdao">

	<delete id="deleteSwMapSpot">
		update SW_MAPSPOT t set t.isdelete = 1,  t.timing = sysdate, t.lastupdate = sysdate where t.year = #{year} and t.checkperiod = #{checkPeriod} and t.id
		in
		<foreach collection="list" item="item" open="(" separator=","
			close=")">
			#{item}
		</foreach>
	</delete>

	<!-- 添加全天候数据 -->
	<insert id="insertSwMapSpot" parameterType="SwMapspot">
		<selectKey keyProperty="count" resultType="int" order="BEFORE">
			select count(1) from SW_MAPSPOT t where t.ID = #{id}
		</selectKey>
		<if test="count != 0">
			update SW_MAPSPOT t set t.isdelete = NULL, t.timing = sysdate, t.lastupdate = sysdate  where t.ID = #{id}
		</if>
		<if test="count == 0">
			insert into SW_MAPSPOT
			<trim prefix="(" suffix=")" suffixOverrides=",">
				<if test="id != null">
					ID,
				</if>
				<if test="spotnumber != null">
					SPOTNUMBER,
				</if>
				<if test="spottype != null">
					SPOTTYPE,
				</if>
				<if test="tz != null">
					TZ,
				</if>
				<if test="datasource != null">
					DATASOURCE,
				</if>
				<if test="beforetime != null">
					BEFORETIME,
				</if>
				<if test="aftertime != null">
					AFTERTIME,
				</if>
				<if test="coordinateX != null">
					COORDINATE_X,
				</if>
				<if test="coordinateY != null">
					COORDINATE_Y,
				</if>
				<if test="spotarea != null">
					SPOTAREA,
				</if>
				<if test="arealevel != null">
					AREALEVEL,
				</if>
				<if test="doubtillegalarea != null">
					DOUBTILLEGALAREA,
				</if>
				<if test="cityborderarea != null">
					CITYBORDERAREA,
				</if>
				<if test="jbntarea != null">
					JBNTAREA,
				</if>
				<if test="xhdjbntarea != null">
					XHDJBNTAREA,
				</if>
				<if test="protectname != null">
					PROTECTNAME,
				</if>
				<if test="protectpassarea != null">
					PROTECTPASSAREA,
				</if>
				<if test="protectfailarea != null">
					PROTECTFAILAREA,
				</if>
				<if test="remark != null">
					REMARK,
				</if>
				<if test="spotnature != null">
					SPOTNATURE,
				</if>
				<if test="bzX != null">
					BZ_X,
				</if>
				<if test="mapratio != null">
					MAPRATIO,
				</if>
				<if test="districtcounty != null">
					DISTRICTCOUNTY,
				</if>
				<if test="districtcountyname != null">
					DISTRICTCOUNTYNAME,
				</if>
				<if test="county != null">
					COUNTY,
				</if>
				<if test="countyname != null">
					COUNTYNAME,
				</if>
				<if test="city != null">
					CITY,
				</if>
				<if test="province != null">
					PROVINCE,
				</if>
				<if test="prespotnumber != null">
					PRESPOTNUMBER,
				</if>
				<if test="node != null">
					NODE,
				</if>
				<if test="legalprooftype != null">
					LEGALPROOFTYPE,
				</if>
				<if test="zjgIsnestedsuccess != null">
					ZJG_ISNESTEDSUCCESS,
				</if>
				<if test="zjgProjectname != null">
					ZJG_PROJECTNAME,
				</if>
				<if test="zjgProjectnumber != null">
					ZJG_PROJECTNUMBER,
				</if>
				<if test="zjgNewblockname != null">
					ZJG_NEWBLOCKNAME,
				</if>
				<if test="zjgNewblockarea != null">
					ZJG_NEWBLOCKAREA,
				</if>
				<if test="zjgRemarks != null">
					ZJG_REMARKS,
				</if>
				<if test="otherSpottype != null">
					OTHER_SPOTTYPE,
				</if>
				<if test="otherProjectname != null">
					OTHER_PROJECTNAME,
				</if>
				<if test="otherApprovallevel != null">
					OTHER_APPROVALLEVEL,
				</if>
				<if test="otherApprovalnumber != null">
					OTHER_APPROVALNUMBER,
				</if>
				<if test="otherApprovaltime != null">
					OTHER_APPROVALTIME,
				</if>
				<if test="otherApprovalarea != null">
					OTHER_APPROVALAREA,
				</if>
				<if test="otherRemarks != null">
					OTHER_REMARKS,
				</if>
				<if test="otherApprovalname != null">
					OTHER_APPROVALNAME,
				</if>
				<if test="notnewSpotclassification != null">
					NOTNEW_SPOTCLASSIFICATION,
				</if>
				<if test="notnewRemarks != null">
					NOTNEW_REMARKS,
				</if>
				<if test="year != null">
					YEAR,
				</if>
				<if test="period != null">
					PERIOD,
				</if>
				<if test="checkperiod != null">
					CHECKPERIOD,
				</if>
				<if test="expertid != null">
					EXPERTID,
				</if>
				<if test="arableAcreage != null">
					ARABLEACREAGE,
				</if>
				<!--分宗后TIMING字段使用数据库时间,用于内外网同步 by yangw786 20170910-->
				<if test="timing != null">
					timing,
				</if>

				<if test="lastupdate != null">
					LASTUPDATE,
				</if>
				<if test="cityauditispass != null">
					CITYAUDITISPASS,
				</if>
				<if test="cityauditremarks != null">
					CITYAUDITREMARKS,
				</if>
				<if test="cityaudittime != null">
					CITYAUDITTIME,
				</if>
				<if test="cityauditpersonname != null">
					CITYAUDITPERSONNAME,
				</if>
				<if test="provinceauditispass != null">
					PROVINCEAUDITISPASS,
				</if>
				<if test="provinceauditremarks != null">
					PROVINCEAUDITREMARKS,
				</if>
				<if test="provinceaudittime != null">
					PROVINCEAUDITTIME,
				</if>
				<if test="provinceauditpersonname != null">
					PROVINCEAUDITPERSONNAME,
				</if>
				<if test="iscityaudit != null">
					ISCITYAUDIT,
				</if>
				<if test="cityauditpersonid != null">
					CITYAUDITPERSONID,
				</if>
				<if test="provinceauditpersonid != null">
					PROVINCEAUDITPERSONID,
				</if>
				<if test="adjustablearea != null">
					ADJUSTABLEAREA,
				</if>
				<if test="oilIssuednumber != null">
					OIL_ISSUEDNUMBER,
				</if>
				<if test="oilIssuedtime != null">
					OIL_ISSUEDTIME,
				</if>
				<if test="oilProjectname != null">
					OIL_PROJECTNAME,
				</if>
				<if test="villageRoadwidth != null">
					VILLAGE_ROADWIDTH,
				</if>
				<if test="villageIsharden != null">
					VILLAGE_ISHARDEN,
				</if>
				<if test="tempArea != null">
					TEMP_AREA,
				</if>
				<if test="tempUsetype != null">
					TEMP_USETYPE,
				</if>
				<if test="tempApprovalusetype != null">
					TEMP_APPROVALUSETYPE,
				</if>
				<if test="tempApprovalnumber != null">
					TEMP_APPROVALNUMBER,
				</if>
				<if test="tempApprovaltime != null">
					TEMP_APPROVALTIME,
				</if>
				<if test="ssnydUsetype != null">
					SSNYD_USETYPE,
				</if>
				<if test="ssnydApprovalusetype != null">
					SSNYD_APPROVALUSETYPE,
				</if>
				<if test="ssnydApprovalarea != null">
					SSNYD_APPROVALAREA,
				</if>
				<if test="ssnydApprovaltime != null">
					SSNYD_APPROVALTIME,
				</if>
				<if test="ssnydApprovalnumber != null">
					SSNYD_APPROVALNUMBER,
				</if>
				<if test="ssnydBackupnumber != null">
					SSNYD_BACKUPNUMBER,
				</if>
				<if test="proveuserId != null">
					PROVEUSERID,
				</if>
				<if test="ssnydProjectName != null">
					SSNYD_PROJECTNAME,
				</if>
				<if test="tempProjectName != null">
					TEMP_PROJECTNAME,
				</if>
				<if test="mark != null and mark != '' ">
					mark,
				</if>
				<if test="unPlaningArea != null">
					unPlaningArea,
				</if>
			</trim>
			<trim prefix="values (" suffix=")" suffixOverrides=",">
				<if test="id != null">
					#{id,jdbcType=DECIMAL},
				</if>
				<if test="spotnumber != null">
					#{spotnumber,jdbcType=OTHER},
				</if>
				<if test="spottype != null">
					#{spottype,jdbcType=OTHER},
				</if>
				<if test="tz != null">
					#{tz,jdbcType=OTHER},
				</if>
				<if test="datasource != null">
					#{datasource,jdbcType=OTHER},
				</if>
				<if test="beforetime != null">
					#{beforetime,jdbcType=OTHER},
				</if>
				<if test="aftertime != null">
					#{aftertime,jdbcType=OTHER},
				</if>
				<if test="coordinateX != null">
					#{coordinateX,jdbcType=DECIMAL},
				</if>
				<if test="coordinateY != null">
					#{coordinateY,jdbcType=DECIMAL},
				</if>
				<if test="spotarea != null">
					#{spotarea,jdbcType=DECIMAL},
				</if>
				<if test="arealevel != null">
					#{arealevel,jdbcType=OTHER},
				</if>
				<if test="doubtillegalarea != null">
					#{doubtillegalarea,jdbcType=DECIMAL},
				</if>
				<if test="cityborderarea != null">
					#{cityborderarea,jdbcType=DECIMAL},
				</if>
				<if test="jbntarea != null">
					#{jbntarea,jdbcType=DECIMAL},
				</if>
				<if test="xhdjbntarea != null">
					#{xhdjbntarea,jdbcType=DECIMAL},
				</if>
				<if test="protectname != null">
					#{protectname,jdbcType=OTHER},
				</if>
				<if test="protectpassarea != null">
					#{protectpassarea,jdbcType=DECIMAL},
				</if>
				<if test="protectfailarea != null">
					#{protectfailarea,jdbcType=DECIMAL},
				</if>
				<if test="remark != null">
					#{remark,jdbcType=OTHER},
				</if>
				<if test="spotnature != null">
					#{spotnature,jdbcType=OTHER},
				</if>
				<if test="bzX != null">
					#{bzX,jdbcType=OTHER},
				</if>
				<if test="mapratio != null">
					#{mapratio,jdbcType=DECIMAL},
				</if>
				<if test="districtcounty != null">
					#{districtcounty,jdbcType=DECIMAL},
				</if>
				<if test="districtcountyname != null">
					#{districtcountyname,jdbcType=VARCHAR},
				</if>
				<if test="county != null">
					#{county,jdbcType=DECIMAL},
				</if>
				<if test="countyname != null">
					#{countyname,jdbcType=VARCHAR},
				</if>
				<if test="city != null">
					#{city,jdbcType=DECIMAL},
				</if>
				<if test="province != null">
					#{province,jdbcType=DECIMAL},
				</if>
				<if test="prespotnumber != null">
					#{prespotnumber,jdbcType=VARCHAR},
				</if>
				<if test="node != null">
					#{node,jdbcType=DECIMAL},
				</if>
				<if test="legalprooftype != null">
					#{legalprooftype,jdbcType=DECIMAL},
				</if>
				<if test="zjgIsnestedsuccess != null">
					#{zjgIsnestedsuccess,jdbcType=DECIMAL},
				</if>
				<if test="zjgProjectname != null">
					#{zjgProjectname,jdbcType=VARCHAR},
				</if>
				<if test="zjgProjectnumber != null">
					#{zjgProjectnumber,jdbcType=VARCHAR},
				</if>
				<if test="zjgNewblockname != null">
					#{zjgNewblockname,jdbcType=VARCHAR},
				</if>
				<if test="zjgNewblockarea != null">
					#{zjgNewblockarea,jdbcType=DECIMAL},
				</if>
				<if test="zjgRemarks != null">
					#{zjgRemarks,jdbcType=VARCHAR},
				</if>
				<if test="otherSpottype != null">
					#{otherSpottype,jdbcType=DECIMAL},
				</if>
				<if test="otherProjectname != null">
					#{otherProjectname,jdbcType=VARCHAR},
				</if>
				<if test="otherApprovallevel != null">
					#{otherApprovallevel,jdbcType=VARCHAR},
				</if>
				<if test="otherApprovalnumber != null">
					#{otherApprovalnumber,jdbcType=VARCHAR},
				</if>
				<if test="otherApprovaltime != null">
					#{otherApprovaltime,jdbcType=TIMESTAMP},
				</if>
				<if test="otherApprovalarea != null">
					#{otherApprovalarea,jdbcType=DECIMAL},
				</if>
				<if test="otherRemarks != null">
					#{otherRemarks,jdbcType=VARCHAR},
				</if>
				<if test="otherApprovalname != null">
					#{otherApprovalname,jdbcType=OTHER},
				</if>
				<if test="notnewSpotclassification != null">
					#{notnewSpotclassification,jdbcType=DECIMAL},
				</if>
				<if test="notnewRemarks != null">
					#{notnewRemarks,jdbcType=VARCHAR},
				</if>
				<if test="year != null">
					#{year,jdbcType=DECIMAL},
				</if>
				<if test="period != null">
					#{period,jdbcType=DECIMAL},
				</if>
				<if test="checkperiod != null">
					#{checkperiod,jdbcType=DECIMAL},
				</if>
				<if test="expertid != null">
					#{expertid,jdbcType=DECIMAL},
				</if>
				<if test="arableAcreage != null">
					#{arableAcreage,jdbcType=DECIMAL},
				</if>
				<if test="timing != null">
					sysdate,
				</if>

				<if test="lastupdate != null">
					sysdate,
				</if>
				<if test="cityauditispass != null">
					#{cityauditispass,jdbcType=DECIMAL},
				</if>
				<if test="cityauditremarks != null">
					#{cityauditremarks,jdbcType=VARCHAR},
				</if>
				<if test="cityaudittime != null">
					#{cityaudittime,jdbcType=TIMESTAMP},
				</if>
				<if test="cityauditpersonname != null">
					#{cityauditpersonname,jdbcType=VARCHAR},
				</if>
				<if test="provinceauditispass != null">
					#{provinceauditispass,jdbcType=DECIMAL},
				</if>
				<if test="provinceauditremarks != null">
					#{provinceauditremarks,jdbcType=VARCHAR},
				</if>
				<if test="provinceaudittime != null">
					#{provinceaudittime,jdbcType=TIMESTAMP},
				</if>
				<if test="provinceauditpersonname != null">
					#{provinceauditpersonname,jdbcType=VARCHAR},
				</if>
				<if test="iscityaudit != null">
					#{iscityaudit,jdbcType=DECIMAL},
				</if>
				<if test="cityauditpersonid != null">
					#{cityauditpersonid,jdbcType=VARCHAR},
				</if>
				<if test="provinceauditpersonid != null">
					#{provinceauditpersonid,jdbcType=VARCHAR},
				</if>
				<if test="adjustablearea != null">
					#{adjustablearea,jdbcType=DECIMAL},
				</if>
				<if test="oilIssuednumber != null">
					#{oilIssuednumber,jdbcType=VARCHAR},
				</if>
				<if test="oilIssuedtime != null">
					#{oilIssuedtime,jdbcType=TIMESTAMP},
				</if>
				<if test="oilProjectname != null">
					#{oilProjectname,jdbcType=VARCHAR},
				</if>
				<if test="villageRoadwidth != null">
					#{villageRoadwidth,jdbcType=DECIMAL},
				</if>
				<if test="villageIsharden != null">
					#{villageIsharden,jdbcType=DECIMAL},
				</if>
				<if test="tempArea != null">
					#{tempArea,jdbcType=DECIMAL},
				</if>
				<if test="tempUsetype != null">
					#{tempUsetype,jdbcType=VARCHAR},
				</if>
				<if test="tempApprovalusetype != null">
					#{tempApprovalusetype,jdbcType=VARCHAR},
				</if>
				<if test="tempApprovalnumber != null">
					#{tempApprovalnumber,jdbcType=VARCHAR},
				</if>
				<if test="tempApprovaltime != null">
					#{tempApprovaltime,jdbcType=TIMESTAMP},
				</if>
				<if test="ssnydUsetype != null">
					#{ssnydUsetype,jdbcType=VARCHAR},
				</if>
				<if test="ssnydApprovalusetype != null">
					#{ssnydApprovalusetype,jdbcType=VARCHAR},
				</if>
				<if test="ssnydApprovalarea != null">
					#{ssnydApprovalarea,jdbcType=DECIMAL},
				</if>
				<if test="ssnydApprovaltime != null">
					#{ssnydApprovaltime,jdbcType=TIMESTAMP},
				</if>
				<if test="ssnydApprovalnumber != null">
					#{ssnydApprovalnumber,jdbcType=VARCHAR},
				</if>
				<if test="ssnydBackupnumber != null">
					#{ssnydBackupnumber,jdbcType=VARCHAR},
				</if>
				<if test="proveuserId != null">
					#{proveuserId,jdbcType=VARCHAR},
				</if>
				<if test="ssnydProjectName != null">
					#{ssnydProjectName,jdbcType=VARCHAR},
				</if>
				<if test="tempProjectName != null">
					#{tempProjectName,jdbcType=VARCHAR},
				</if>
				<if test="mark != null and mark != '' ">
					#{mark,jdbcType=VARCHAR},
				</if>
				<if test="unPlaningArea != null">
					#{unPlaningArea,jdbcType=DECIMAL},
				</if>
			</trim>
		</if>
	</insert>




</mapper>